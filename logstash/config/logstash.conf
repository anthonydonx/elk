# Sample Logstash configuration for creating a simple
# Beats -> Logstash -> Elasticsearch pipeline.

input {
  file {
    path => "C:/Users/asanka.anthony.DCSIT016/IdeaProjects/sso_service/logs_u/sso-service_log.log"
    start_position => "beginning"
  }
}

filter {
  grok {
    match => {
      "message" => "%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:loglevel} X-Request-ID \[%{DATA:X-Request-ID}\] X-MSG-ID \[%{DATA:MSG-ID}\] \[%{DATA:custom_timestamp}\] trace-id \[%{DATA:trace-id}\] %{DATA:logger}:%{NUMBER:line} - %{GREEDYDATA:message}"
    }
  }
  date {
    match => [ "timestamp", "ISO8601" ]
  }
}

output {
  elasticsearch {
    hosts => ["https://localhost:9200"]
    ssl_certificate_verification => false
    ssl => true
    index => "elkdemoindex"
    user => "elastic"
    password => "Q5hDb9Qqz4Fz+JhUy1=F"
  }
}
